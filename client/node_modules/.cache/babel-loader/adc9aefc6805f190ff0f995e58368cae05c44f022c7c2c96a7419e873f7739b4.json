{"ast":null,"code":"var _jsxFileName = \"/home/levi/Development/code/phase-5/book-club/client/src/components/Books.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { BooksContext } from './context/BooksContext';\nimport { GenresContext } from './context/GenresContext';\nimport BookCard from './BookCard';\nimport NavBar from './NavBar';\nimport './css/Books.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Books = () => {\n  _s();\n  const {\n    books\n  } = useContext(BooksContext);\n  const {\n    genres\n  } = useContext(GenresContext);\n  const [authors, setAuthors] = useState([]);\n  const [filteredBooks, setFilteredBooks] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedGenre, setSelectedGenre] = useState(null);\n  const [selectedAuthor, setSelectedAuthor] = useState(null);\n  useEffect(() => {\n    if (books.length > 0) {\n      const uniqueAuthors = Array.from(new Set(books.map(book => book.author)));\n      setAuthors(uniqueAuthors);\n      setFilteredBooks(books);\n    }\n  }, [books]);\n  const filterBooks = () => {\n    let filtered = books;\n    if (selectedGenre) {\n      filtered = filtered.filter(book => book.genre && book.genre.id === selectedGenre);\n    }\n    if (selectedAuthor) {\n      filtered = filtered.filter(book => book.author === selectedAuthor);\n    }\n    if (searchQuery) {\n      filtered = filtered.filter(book => book.title.toLowerCase().includes(searchQuery.toLowerCase()));\n    }\n    setFilteredBooks(filtered);\n  };\n  useEffect(() => {\n    filterBooks();\n  }, [selectedGenre, selectedAuthor, searchQuery, books]);\n  const handleSearch = event => {\n    const query = event.target.value;\n    setSearchQuery(query);\n  };\n  const handleGenreClick = genreId => {\n    setSelectedGenre(prevGenre => prevGenre === genreId ? null : genreId);\n  };\n  const handleAuthorClick = author => {\n    setSelectedAuthor(prevAuthor => prevAuthor === author ? null : author);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"books-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Genres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: genres.map(genre => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => handleGenreClick(genre.id),\n            className: selectedGenre === genre.id ? 'selected' : '',\n            children: genre.name\n          }, genre.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Authors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: authors.map(author => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => handleAuthorClick(author),\n            className: selectedAuthor === author ? 'selected' : '',\n            children: author\n          }, author, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search by title\",\n            value: searchQuery,\n            onChange: handleSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"books-container\",\n          children: filteredBooks.map(book => /*#__PURE__*/_jsxDEV(BookCard, {\n            book: book\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Books, \"4HY3pe64TrO506Vxwy6ETn5VR60=\");\n_c = Books;\nexport default Books;\nvar _c;\n$RefreshReg$(_c, \"Books\");","map":{"version":3,"names":["React","useContext","useState","useEffect","BooksContext","GenresContext","BookCard","NavBar","jsxDEV","_jsxDEV","Books","_s","books","genres","authors","setAuthors","filteredBooks","setFilteredBooks","searchQuery","setSearchQuery","selectedGenre","setSelectedGenre","selectedAuthor","setSelectedAuthor","length","uniqueAuthors","Array","from","Set","map","book","author","filterBooks","filtered","filter","genre","id","title","toLowerCase","includes","handleSearch","event","query","target","value","handleGenreClick","genreId","prevGenre","handleAuthorClick","prevAuthor","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","name","type","placeholder","onChange","_c","$RefreshReg$"],"sources":["/home/levi/Development/code/phase-5/book-club/client/src/components/Books.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { BooksContext } from './context/BooksContext';\nimport { GenresContext } from './context/GenresContext';\nimport BookCard from './BookCard';\nimport NavBar from './NavBar';\nimport './css/Books.css';\n\nconst Books = () => {\n  const { books } = useContext(BooksContext);\n  const { genres } = useContext(GenresContext);\n  const [authors, setAuthors] = useState([]);\n  const [filteredBooks, setFilteredBooks] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedGenre, setSelectedGenre] = useState(null);\n  const [selectedAuthor, setSelectedAuthor] = useState(null);\n\n  useEffect(() => {\n    if (books.length > 0) {\n      const uniqueAuthors = Array.from(new Set(books.map(book => book.author)));\n      setAuthors(uniqueAuthors);\n      setFilteredBooks(books);\n    }\n  }, [books]);\n\n  const filterBooks = () => {\n    let filtered = books;\n\n    if (selectedGenre) {\n      filtered = filtered.filter(book => book.genre && book.genre.id === selectedGenre);\n    }\n\n    if (selectedAuthor) {\n      filtered = filtered.filter(book => book.author === selectedAuthor);\n    }\n\n    if (searchQuery) {\n      filtered = filtered.filter(book => book.title.toLowerCase().includes(searchQuery.toLowerCase()));\n    }\n\n    setFilteredBooks(filtered);\n  };\n\n  useEffect(() => {\n    filterBooks();\n  }, [selectedGenre, selectedAuthor, searchQuery, books]);\n\n  const handleSearch = (event) => {\n    const query = event.target.value;\n    setSearchQuery(query);\n  };\n\n  const handleGenreClick = (genreId) => {\n    setSelectedGenre(prevGenre => (prevGenre === genreId ? null : genreId));\n  };\n\n  const handleAuthorClick = (author) => {\n    setSelectedAuthor(prevAuthor => (prevAuthor === author ? null : author));\n  };\n\n  return (\n    <div>\n      <NavBar />\n      <div className=\"books-page\">\n        <div className=\"sidebar\">\n          <h2>Genres</h2>\n          <ul>\n            {genres.map((genre) => (\n              <li\n                key={genre.id}\n                onClick={() => handleGenreClick(genre.id)}\n                className={selectedGenre === genre.id ? 'selected' : ''}\n              >\n                {genre.name}\n              </li>\n            ))}\n          </ul>\n          <h2>Authors</h2>\n          <ul>\n            {authors.map((author) => (\n              <li\n                key={author}\n                onClick={() => handleAuthorClick(author)}\n                className={selectedAuthor === author ? 'selected' : ''}\n              >\n                {author}\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"main-content\">\n          <div className=\"search-bar\">\n            <input\n              type=\"text\"\n              placeholder=\"Search by title\"\n              value={searchQuery}\n              onChange={handleSearch}\n            />\n          </div>\n          <div className=\"books-container\">\n            {filteredBooks.map((book) => (\n              <BookCard key={book.id} book={book} />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Books;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}