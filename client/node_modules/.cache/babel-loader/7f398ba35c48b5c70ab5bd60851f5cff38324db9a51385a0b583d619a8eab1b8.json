{"ast":null,"code":"import React,{useContext,useState,useEffect}from'react';import{AppstoreOutlined,SettingOutlined,BookOutlined,UserOutlined,LogoutOutlined,PlusOutlined,ReadOutlined}from'@ant-design/icons';import{Menu}from'antd';import{Link,useLocation}from'react-router-dom';import{AuthContext}from'./context/AuthContext';import{ThemeContext}from'./context/ThemeContext';import{SunOutlined,MoonOutlined}from'@ant-design/icons';import'./css/NavBar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NavBar=()=>{const{user,logout}=useContext(AuthContext);const{theme,toggleTheme}=useContext(ThemeContext);const location=useLocation();const[current,setCurrent]=useState('');useEffect(()=>{const path=location.pathname.split('/')[1];setCurrent(path||'book-clubs');},[location]);const onClick=e=>{setCurrent(e.key);};const items=[{label:/*#__PURE__*/_jsx(Link,{to:\"/book-clubs\",children:\"Book Clubs\"}),key:'book-clubs',icon:/*#__PURE__*/_jsx(BookOutlined,{})},{label:/*#__PURE__*/_jsx(Link,{to:\"/my-clubs\",children:\"My Clubs\"}),key:'my-clubs',icon:/*#__PURE__*/_jsx(ReadOutlined,{})},{label:/*#__PURE__*/_jsx(Link,{to:\"/new-club\",children:\"Create a Club\"}),key:'new-club',icon:/*#__PURE__*/_jsx(PlusOutlined,{})},{label:/*#__PURE__*/_jsx(Link,{to:\"/books\",children:\"Library\"}),key:'',icon:/*#__PURE__*/_jsx(AppstoreOutlined,{})},{label:/*#__PURE__*/_jsx(Link,{to:\"/my-book-list\",children:\"My Book List\"}),key:'my-book-list',icon:/*#__PURE__*/_jsx(AppstoreOutlined,{})},user&&user.created_clubs&&user.created_clubs.length>0&&{label:/*#__PURE__*/_jsx(Link,{to:\"/manage-club\",children:\"Manage My Club\"}),key:'manage-club',icon:/*#__PURE__*/_jsx(SettingOutlined,{})},user&&{label:/*#__PURE__*/_jsx(Link,{to:\"/my-profile\",children:\"My Profile\"}),key:'my-profile',icon:/*#__PURE__*/_jsx(UserOutlined,{})},{label:/*#__PURE__*/_jsxs(\"span\",{className:\"theme-toggle\",onClick:toggleTheme,children:[theme==='dark'?/*#__PURE__*/_jsx(SunOutlined,{}):/*#__PURE__*/_jsx(MoonOutlined,{}),/*#__PURE__*/_jsx(\"span\",{children:theme==='dark'?'Light Mode':'Dark Mode'})]}),key:'theme'},user&&{label:'Logout',key:'logout',icon:/*#__PURE__*/_jsx(LogoutOutlined,{}),onClick:logout,className:'logout-button'}].filter(Boolean);return/*#__PURE__*/_jsx(Menu,{onClick:onClick,selectedKeys:[current],mode:\"horizontal\",items:items,className:`navbar ${theme}`});};export default NavBar;","map":{"version":3,"names":["React","useContext","useState","useEffect","AppstoreOutlined","SettingOutlined","BookOutlined","UserOutlined","LogoutOutlined","PlusOutlined","ReadOutlined","Menu","Link","useLocation","AuthContext","ThemeContext","SunOutlined","MoonOutlined","jsx","_jsx","jsxs","_jsxs","NavBar","user","logout","theme","toggleTheme","location","current","setCurrent","path","pathname","split","onClick","e","key","items","label","to","children","icon","created_clubs","length","className","filter","Boolean","selectedKeys","mode"],"sources":["/home/levi/Development/book-club/client/src/components/NavBar.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { AppstoreOutlined, SettingOutlined, BookOutlined, UserOutlined, LogoutOutlined, PlusOutlined, ReadOutlined } from '@ant-design/icons';\nimport { Menu } from 'antd';\nimport { Link, useLocation } from 'react-router-dom';\nimport { AuthContext } from './context/AuthContext';\nimport { ThemeContext } from './context/ThemeContext';\nimport { SunOutlined, MoonOutlined } from '@ant-design/icons'; \nimport './css/NavBar.css'; \n\nconst NavBar = () => {\n  const { user, logout } = useContext(AuthContext);\n  const { theme, toggleTheme } = useContext(ThemeContext);\n  const location = useLocation();\n  const [current, setCurrent] = useState('');\n\n  useEffect(() => {\n    const path = location.pathname.split('/')[1];\n    setCurrent(path || 'book-clubs');\n  }, [location]);\n\n  const onClick = (e) => {\n    setCurrent(e.key);\n  };\n\n  const items = [\n    {\n      label: <Link to=\"/book-clubs\">Book Clubs</Link>,\n      key: 'book-clubs',\n      icon: <BookOutlined />,\n    },\n    {\n      label: <Link to=\"/my-clubs\">My Clubs</Link>,\n      key: 'my-clubs',\n      icon: <ReadOutlined />,\n    },\n    {\n      label: <Link to=\"/new-club\">Create a Club</Link>,\n      key: 'new-club',\n      icon: <PlusOutlined />,\n    },\n    {\n      label: <Link to=\"/books\">Library</Link>,\n      key: '',\n      icon: <AppstoreOutlined />,\n    },\n    {\n      label: <Link to=\"/my-book-list\">My Book List</Link>,\n      key: 'my-book-list',\n      icon: <AppstoreOutlined />,\n    },\n    user && user.created_clubs && user.created_clubs.length > 0 && {\n      label: <Link to=\"/manage-club\">Manage My Club</Link>,\n      key: 'manage-club',\n      icon: <SettingOutlined />,\n    },\n    user && {\n      label: <Link to=\"/my-profile\">My Profile</Link>,\n      key: 'my-profile',\n      icon: <UserOutlined />,\n    },\n    {\n      label: (\n        <span className=\"theme-toggle\" onClick={toggleTheme}>\n          {theme === 'dark' ? <SunOutlined /> : <MoonOutlined />}\n          <span>{theme === 'dark' ? 'Light Mode' : 'Dark Mode'}</span>\n        </span>\n      ),\n      key: 'theme',\n    },\n    user && {\n      label: 'Logout',\n      key: 'logout',\n      icon: <LogoutOutlined />,\n      onClick: logout,\n      className: 'logout-button', \n    },\n  ].filter(Boolean);\n\n  return (\n    <Menu onClick={onClick} selectedKeys={[current]} mode=\"horizontal\" items={items} className={`navbar ${theme}`} />\n  );\n};\n\nexport default NavBar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}