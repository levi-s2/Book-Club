{"ast":null,"code":"var _jsxFileName = \"/home/levi/Development/book-club/client/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { AuthContext } from './context/AuthContext';\nimport { Form as AntForm, Input, Button, message } from 'antd';\nimport './css/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  theme\n}) => {\n  _s();\n  const history = useHistory();\n  const {\n    login\n  } = useContext(AuthContext);\n  const initialValues = {\n    email: '',\n    password: ''\n  };\n  const validationSchema = Yup.object({\n    email: Yup.string().email('Invalid email address').required('Email is required'),\n    password: Yup.string().min(6, 'Password must be at least 6 characters long').required('Password is required')\n  });\n  const handleSubmit = async (values, {\n    setSubmitting,\n    setErrors\n  }) => {\n    try {\n      await login(values.email, values.password);\n      message.success('Login successful!');\n      history.push('/book-clubs');\n    } catch (error) {\n      setErrors('Email or Password don´t match');\n      message.error('Login failed. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `login-container ${theme}`,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValues,\n      validationSchema: validationSchema,\n      onSubmit: handleSubmit,\n      children: ({\n        isSubmitting,\n        errors\n      }) => /*#__PURE__*/_jsxDEV(Form, {\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(AntForm.Item, {\n          label: \"Email\",\n          name: \"email\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            as: Input,\n            name: \"email\",\n            type: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"email\",\n            component: \"div\",\n            className: \"error-message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AntForm.Item, {\n          label: \"Password\",\n          name: \"password\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            as: Input.Password,\n            name: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"password\",\n            component: \"div\",\n            className: \"error-message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          disabled: isSubmitting,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), errors.general && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: errors.general\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"rOxjP6aDkOpDI8zpBhEi/kGBNxk=\", false, function () {\n  return [useHistory];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useHistory","Formik","Form","Field","ErrorMessage","Yup","AuthContext","AntForm","Input","Button","message","jsxDEV","_jsxDEV","Login","theme","_s","history","login","initialValues","email","password","validationSchema","object","string","required","min","handleSubmit","values","setSubmitting","setErrors","success","push","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","isSubmitting","errors","Item","label","name","as","type","component","Password","htmlType","disabled","general","_c","$RefreshReg$"],"sources":["/home/levi/Development/book-club/client/src/components/Login.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { AuthContext } from './context/AuthContext';\nimport { Form as AntForm, Input, Button, message } from 'antd';\nimport './css/login.css';\n\nconst Login = ({ theme }) => {\n  const history = useHistory();\n  const { login } = useContext(AuthContext);\n\n  const initialValues = {\n    email: '',\n    password: '',\n  };\n\n  const validationSchema = Yup.object({\n    email: Yup.string()\n      .email('Invalid email address')\n      .required('Email is required'),\n    password: Yup.string()\n      .min(6, 'Password must be at least 6 characters long')\n      .required('Password is required'),\n  });\n\n  const handleSubmit = async (values, { setSubmitting, setErrors }) => {\n    try {\n      await login(values.email, values.password);\n      message.success('Login successful!');\n      history.push('/book-clubs');\n    } catch (error) {\n      setErrors('Email or Password don´t match');\n      message.error('Login failed. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className={`login-container ${theme}`}>\n      <h2>Login</h2>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={handleSubmit}\n      >\n        {({ isSubmitting, errors }) => (\n          <Form className=\"login-form\">\n            <AntForm.Item label=\"Email\" name=\"email\">\n              <Field as={Input} name=\"email\" type=\"email\" />\n              <ErrorMessage name=\"email\" component=\"div\" className=\"error-message\" />\n            </AntForm.Item>\n            <AntForm.Item label=\"Password\" name=\"password\">\n              <Field as={Input.Password} name=\"password\" />\n              <ErrorMessage name=\"password\" component=\"div\" className=\"error-message\" />\n            </AntForm.Item>\n            <Button type=\"primary\" htmlType=\"submit\" disabled={isSubmitting}>\n              Login\n            </Button>\n            {errors.general && <p className=\"error-message\">{errors.general}</p>}\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}