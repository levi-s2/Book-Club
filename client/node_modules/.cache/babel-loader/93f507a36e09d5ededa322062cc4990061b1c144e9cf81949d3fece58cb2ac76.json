{"ast":null,"code":"import React,{useEffect,useState,useContext}from'react';import{Link}from'react-router-dom';import{AuthContext}from'./context/AuthContext';import{ThemeContext}from'./context/ThemeContext';import{BookClubsContext}from'./context/BookClubsContext';import NavBar from'./NavBar';import{Card,Button}from'antd';import'./css/MyClubs.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyClubs=()=>{const{user}=useContext(AuthContext);const{theme}=useContext(ThemeContext);const{fetchUserClubs}=useContext(BookClubsContext);const[myClubs,setMyClubs]=useState([]);useEffect(()=>{const fetchClubs=async()=>{if(user){try{const clubs=await fetchUserClubs();setMyClubs(clubs);}catch(error){console.error('Error fetching my clubs:',error);}}};fetchClubs();},[user,fetchUserClubs]);if(!user){return/*#__PURE__*/_jsx(\"div\",{children:\"Please log in to view your clubs.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:`page-container ${theme}`,children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:`my-clubs ${theme}`,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Book Clubs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"club-list\",children:myClubs.length>0?myClubs.map(club=>/*#__PURE__*/_jsx(Card,{className:`club-card ${theme}`,title:club.name,bordered:false,children:/*#__PURE__*/_jsxs(\"div\",{className:\"club-info\",children:[/*#__PURE__*/_jsx(\"h5\",{children:club.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Members: \"}),\" \",club.member_count]}),/*#__PURE__*/_jsx(\"strong\",{children:\"Current Book: \"}),/*#__PURE__*/_jsx(\"p\",{children:club.current_book?club.current_book.title:'None'}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Genres:\"}),\" \",club.genres.map(genre=>genre.name).join(', ')]}),/*#__PURE__*/_jsx(Link,{to:`/book-clubs/${club.id}`,children:/*#__PURE__*/_jsx(Button,{type:\"primary\",className:\"view-details-button\",children:\"View Details\"})})]})},club.id)):/*#__PURE__*/_jsx(\"p\",{children:\"You are not part of any clubs yet.\"})})]})]});};export default MyClubs;","map":{"version":3,"names":["React","useEffect","useState","useContext","Link","AuthContext","ThemeContext","BookClubsContext","NavBar","Card","Button","jsx","_jsx","jsxs","_jsxs","MyClubs","user","theme","fetchUserClubs","myClubs","setMyClubs","fetchClubs","clubs","error","console","children","className","length","map","club","title","name","bordered","description","member_count","current_book","genres","genre","join","to","id","type"],"sources":["/home/levi/Development/book-club/client/src/components/MyClubs.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from './context/AuthContext';\nimport { ThemeContext } from './context/ThemeContext';\nimport { BookClubsContext } from './context/BookClubsContext'; \nimport NavBar from './NavBar';\nimport { Card, Button } from 'antd';\nimport './css/MyClubs.css';\n\nconst MyClubs = () => {\n  const { user } = useContext(AuthContext);\n  const { theme } = useContext(ThemeContext);\n  const { fetchUserClubs } = useContext(BookClubsContext); \n  const [myClubs, setMyClubs] = useState([]);\n\n  useEffect(() => {\n    const fetchClubs = async () => {\n      if (user) {\n        try {\n          const clubs = await fetchUserClubs();\n          setMyClubs(clubs);\n        } catch (error) {\n          console.error('Error fetching my clubs:', error);\n        }\n      }\n    };\n\n    fetchClubs();\n  }, [user, fetchUserClubs]);\n\n  if (!user) {\n    return <div>Please log in to view your clubs.</div>;\n  }\n\n  return (\n    <div className={`page-container ${theme}`}>\n      <NavBar />\n      <div className={`my-clubs ${theme}`}>\n        <h2>My Book Clubs</h2>\n        <div className=\"club-list\">\n          {myClubs.length > 0 ? (\n            myClubs.map((club) => (\n              <Card\n                key={club.id}\n                className={`club-card ${theme}`}\n                title={club.name}\n                bordered={false}\n              >\n                <div className=\"club-info\">\n                  <h5>{club.description}</h5>\n                  <p><strong>Members: </strong> {club.member_count}</p>\n                  <strong>Current Book: </strong><p>{club.current_book ? club.current_book.title : 'None'}</p>\n                  <p><strong>Genres:</strong> {club.genres.map((genre) => genre.name).join(', ')}</p>\n                  <Link to={`/book-clubs/${club.id}`}>\n                    <Button type=\"primary\" className=\"view-details-button\">\n                      View Details\n                    </Button>\n                  </Link>\n                </div>\n              </Card>\n            ))\n          ) : (\n            <p>You are not part of any clubs yet.</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MyClubs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}